# Authentication

> Цей посібник описує деталі автентифікації (входу до налаштувань FreeFlarum) через [FreeFlarum's API](https://api.freeflarum.com), а не [Flarum](https://docs.flarum.org/rest-api/).

## Забули пароль?

Форма входу на FreeFlarum очікує той самий хеш-пароль, що і пароль вашого облікового запису адміністратора форуму.
Це означає, що якщо ви забули свій пароль, ви можете відновити його на форумі:

1. Переконайтеся, що ви вийшли з системи (ви можете використовувати інкогніто/приватний перегляд);
2. Натисніть на кнопку "Увійти" на вашому форумі Flarum;4. Input your admin's E-mail address;
3. Натисніть на посилання "Забули пароль?" внизу модального вікна;
4. Введіть адресу електронної пошти вашого адміністратора;
5. Дотримуйтесь інструкцій, які були надіслані на цю електронну адресу, і скиньте пароль;
6. Тепер ви можете використовувати цей новий пароль для входу на FreeFlarum.

## Токени доступу

Якщо у вас була можливість поглянути на свої [налаштування облікового запису на FreeFlarum](https://freeflarum.com/settings/account_settings), ви вже могли помітити, що
помітили, що є розділ, де є перераховані всі ваші токени доступу.

Токени доступу створюються при кожному успішному вході до вашого облікового запису на форумі FreeFlarum. Вони можуть бути використані сторонніми особами для виконання дій від імені вашого облікового запису (наприклад: завантаження ваших даних на форумі, посилання на ваш домен, налаштувати ваш форум, отримати інформацію про ваш форум і т.д..).

Основна ідея полягає в тому, що ви можете надати стороннім службам міграції один з ваших токенів доступу, і вони зможуть отримати дані вашого форуму і перенести його для вас. Або ви можете просто створити персональний скрипт для прив'язки вашого домену за певних умов, наприклад.

Всі маршрути API перераховані на [https://api.freeflarum.com/](https://api.freeflarum.com/).

### Токени доступу з "підвищеними правами"

Токени доступу з "підвищеними правами" створюються лише тоді, коли ви входите у FreeFlarum через його головний веб-сайт ([https://freeflarum.com](https://freeflarum.com)). Будь-які логіни/токени доступу, створені за межами головної сторінки, не матимуть підвищених дозволів.

#### Таблиця дозволів для токенів доступу

| Можеш                                               | Звичайний токен | Токен з підвищеними правами|
|-----------------------------------------------------|-----------------|----------------------------|
| Отримати інформацію про форум (тег, E-mail тощо...) | ✅              | ✅                        |
| Обмеження на завантаження FoF                       | ✅              | ✅                        |
| Форум Fixup                                         | ✅              | ✅                        |
| Посилання на власний домен                          | ✅              | ✅                        |
| Отримання (доступних) логів сервера                 | ✅              | ✅                        |
| Експортуйте дані вашого форуму (також у CSV)        | ✅              | ✅                        |
| Відкликати інші токени доступу                      | ❌              | ✅                        |
| Видаліть свій форум                                 | ❌              | ✅                        |

З міркувань безпеки ви можете видалити свої форуми і відкликати інші токени доступу, тільки якщо ви ввійшли через головний сайт FreeFlarum.

Однак, якщо ви скопіюєте токен з підвищеними правами і використаєте його за межами FreeFlarum, він все одно буде мати підвищені права.
Рекомендується надавати стороннім сервісам звичайні токени.

### "Пам'ятай мене"

За замовчуванням, при вході на FreeFlarum галочка "Запам'ятати мене" не відмічена, тому термін дії вашого токену доступу закінчується через 1 годину.
Це рекомендується для одноразових сторонніх послуг (якщо вони виконують завдання протягом 1 години), щоб токен більше не був дійсним через 1 годину.

Якщо ви поставите галочку "Запам'ятати мене", токен буде дійсним назавжди (іншими словами, ви не вийдете з системи, якщо не видалите файл cookie `access_token`, наприклад: після очищення історії браузера).

### Створення нових токенів доступу

У вас є 2 варіанти створення токенів доступу:

1. Увійдіть на сайт FreeFlarum;
2. Надішліть запит на API на [https://api.freeflarum.com/authentication](https://api.freeflarum.com/#/Authentication/login_authentication_post).

Перший спосіб ідеальний, якщо ви не можете створити API-запит або просто не є технічним спеціалістом, але вам потрібен токен доступу для якогось стороннього сервісу. Щоб зробити це таким чином, залишаючись у системі під своїм основним токеном, відкрийте новий сеанс приватного перегляду/інкогніто або відвідайте FreeFlarum через інший браузер/пристрій. Потім увійдіть в систему, не ставлячи галочку "Запам'ятати мене", і ви отримаєте тимчасовий (на 1 годину) токен, але з [підвищеними правами] (#access-tokens-with-elevated-permissions). Якщо вам не потрібні підвищені дозволи, вам потрібно буде або авторизуватися через [api.freeflarum.com](https://api.freeflarum.com), або підробити API-запит.

Другий метод ідеально підходить для отримання токенів без підвищених дозволів і описаний [в документації API] (https://api.freeflarum.com/#/Authentication/login_authentication_post).

### Відкликання токенів доступу

Знову ж таки, у вас є 2 варіанти:

1. Увійдіть на сайт FreeFlarum.com і відкликайте його, натиснувши на іконку кошика зліва від токена доступу;
2. Використовуйте токен доступу з підвищеними правами та надішліть API-запит.
   
Зверніть увагу, що зміна пароля адміністратора форуму не призведе до відкликання існуючих токенів доступу (це пов'язано з технічними обмеженнями - Python-бекенд FreeFlarum не може легко взаємодіяти з PHP-бекендом Flarum). Якщо ви змінюєте пароль з міркувань безпеки (наприклад, несанкціоноване використання вашого токена доступу або витік пароля), вам потрібно буде відкликати всі існуючі токени доступу вручну (див. доступні методи вище).
